# =================================================================
# ë”¥í˜ì´í¬ íƒì§€ ëª¨ë¸ í•™ìŠµ ì„¤ì • íŒŒì¼
# =================================================================
# ì´ íŒŒì¼ì€ prepare_data.py ì‹¤í–‰ ì‹œ data_pathê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤
#
# ğŸ”§ GPU ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ:
#   - batch_sizeë¥¼ ì¤„ì´ê¸° (16 -> 8 -> 4)
#   - model_size/model_nameì„ ì‘ê²Œ (n, b0)
#
# â±ï¸ í•™ìŠµ ì‹œê°„ ì˜ˆìƒ (RTX 3090 ê¸°ì¤€):
#   - YOLO nano (100 epochs): 1-2ì‹œê°„
#   - EfficientNet-B0 (50 epochs): 2-3ì‹œê°„
# =================================================================

# YOLO ì–¼êµ´ íƒì§€ ëª¨ë¸ ì„¤ì •
yolo:
  model_size: 'n'  # ëª¨ë¸ í¬ê¸°: n(nano)=ê°€ì¥ ë¹ ë¦„, s(small), m(medium), l(large), x(xlarge)=ê°€ì¥ ì •í™•
  epochs: 100      # í•™ìŠµ ì—í­ ìˆ˜ (ë” ë§ì´ í•˜ë©´ ì •í™•ë„ í–¥ìƒ, ì‹œê°„ ì¦ê°€)
  batch_size: 16   # ë°°ì¹˜ í¬ê¸° (GPU ë©”ëª¨ë¦¬ 8GB: 16, 4GB: 8, 2GB: 4)
  imgsz: 640       # ì…ë ¥ ì´ë¯¸ì§€ í¬ê¸° (640 ê¶Œì¥, ë©”ëª¨ë¦¬ ë¶€ì¡±ì‹œ 320)
  device: 'cuda'   # 'cuda'=GPU ì‚¬ìš©, 'cpu'=CPUë§Œ ì‚¬ìš© (ë§¤ìš° ëŠë¦¼)
  data_path: 'data/face_detection'  # âš ï¸ ìë™ ì—…ë°ì´íŠ¸ë¨
  save_dir: 'runs/face_detection'
  pretrained: true  # ImageNet ì‚¬ì „í•™ìŠµ ê°€ì¤‘ì¹˜ ì‚¬ìš© (ê¶Œì¥: true)
  confidence_threshold: 0.5
  
  # í•™ìŠµ íŒŒë¼ë¯¸í„°
  optimizer: 'AdamW'
  lr0: 0.01  # ì´ˆê¸° í•™ìŠµë¥ 
  weight_decay: 0.0005
  momentum: 0.937
  
  # ë°ì´í„° ì¦ê°•
  augment:
    hsv_h: 0.015  # ìƒ‰ì¡° ì¦ê°•
    hsv_s: 0.7    # ì±„ë„ ì¦ê°•
    hsv_v: 0.4    # ëª…ë„ ì¦ê°•
    degrees: 0.0  # íšŒì „ ê°ë„
    translate: 0.1  # ì´ë™
    scale: 0.5    # ìŠ¤ì¼€ì¼
    shear: 0.0    # ì „ë‹¨
    perspective: 0.0  # ì›ê·¼
    flipud: 0.0   # ìƒí•˜ ë’¤ì§‘ê¸°
    fliplr: 0.5   # ì¢Œìš° ë’¤ì§‘ê¸°
    mosaic: 1.0   # ëª¨ìì´í¬ ì¦ê°•

# EfficientNet ë”¥í˜ì´í¬ ë¶„ë¥˜ ëª¨ë¸ ì„¤ì •
deepfake_classifier:
  model_name: 'efficientnet-b0'  # b0(ê°€ì¥ ë¹ ë¦„), b1, b2, b3(ê¶Œì¥), b4, b5, b6, b7(ê°€ì¥ ì •í™•í•˜ì§€ë§Œ ëŠë¦¼)
  epochs: 50                     # í•™ìŠµ ì—í­ ìˆ˜ (50-100 ê¶Œì¥)
  batch_size: 32                 # ë°°ì¹˜ í¬ê¸° (GPU ë©”ëª¨ë¦¬ 8GB: 32, 4GB: 16)
  learning_rate: 0.001           # í•™ìŠµë¥  (ê¸°ë³¸ê°’, ìˆ˜ë ´ì´ ì•ˆë˜ë©´ 0.0001ë¡œ ì¤„ì´ê¸°)
  weight_decay: 0.0001           # ê°€ì¤‘ì¹˜ ê°ì‡  (ê³¼ì í•© ë°©ì§€)
  device: 'cuda'                 # 'cuda' ë˜ëŠ” 'cpu'
  data_path: 'data/deepfake_classification'  # âš ï¸ ìë™ ì—…ë°ì´íŠ¸ë¨
  save_dir: 'runs/deepfake_classifier'
  
  # ë°ì´í„° ì¦ê°•
  augment: true
  augment_params:
    resize: [256, 256]
    crop_size: 224
    horizontal_flip: 0.5
    rotation_degrees: 10
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1
  
  # ì˜µí‹°ë§ˆì´ì € ì„¤ì •
  optimizer: 'AdamW'
  scheduler:
    type: 'ReduceLROnPlateau'
    mode: 'min'
    factor: 0.5
    patience: 5
    min_lr: 0.00001
  
  # ì¡°ê¸° ì¢…ë£Œ
  early_stopping:
    patience: 10
    min_delta: 0.001

# ë°ì´í„° ì„¤ì •
data:
  # ë°ì´í„°ì…‹ ë¶„í•  ë¹„ìœ¨
  split_ratios:
    train: 0.7
    val: 0.2
    test: 0.1
  
  # ì´ë¯¸ì§€ ì „ì²˜ë¦¬
  preprocessing:
    face_size: [224, 224]
    face_padding: 0.2
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]
  
  # ë°ì´í„° ë¡œë” ì„¤ì •
  dataloader:
    num_workers: 4
    pin_memory: true
    shuffle_train: true

# í•™ìŠµ ëª¨ë‹ˆí„°ë§
monitoring:
  # ì²´í¬í¬ì¸íŠ¸ ì €ì¥
  checkpoint:
    save_best: true
    save_last: true
    save_period: 10  # ì—í­ ê°„ê²©
  
  # ë¡œê¹…
  logging:
    log_interval: 100  # ë°°ì¹˜ ê°„ê²©
    plot_interval: 10  # ì—í­ ê°„ê²©
  
  # ê²€ì¦
  validation:
    val_interval: 1  # ì—í­ ê°„ê²©
    save_val_images: true

# í•˜ë“œì›¨ì–´ ì„¤ì •
hardware:
  # GPU ì„¤ì •
  gpu:
    mixed_precision: true  # AMP ì‚¬ìš©
    cudnn_benchmark: true
  
  # ë©”ëª¨ë¦¬ ìµœì í™”
  memory:
    gradient_accumulation_steps: 1
    max_memory_usage: 0.8  # GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì œí•œ

# ì‹¤í—˜ ì„¤ì •
experiment:
  name: 'deepfake_detection_v1'
  description: 'YOLO + EfficientNet ë”¥í˜ì´í¬ íƒì§€ ì‹œìŠ¤í…œ'
  tags: ['deepfake', 'face_detection', 'classification']
  
  # ì‹œë“œ ì„¤ì •
  random_seed: 42
  
  # ì¬í˜„ì„±
  deterministic: true
  benchmark: false